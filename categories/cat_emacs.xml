<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0"><channel><title>Lightly Seared On The Reality Grill (emacs)</title><link>http://samjuvonen.com/</link><description></description><atom:link rel="self" href="http://samjuvonen.com/categories/cat_emacs.xml" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Sun, 21 Aug 2016 23:47:28 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Printing pretty from Emacs</title><link>http://samjuvonen.com/posts/printing-pretty-from-emacs/</link><dc:creator>sjj</dc:creator><description>&lt;div&gt;&lt;p&gt;Emacs (The One True Editor) and Orgmode are both awesome tools and a fantastic
pairing and also an infuriating, fiendishly complex system. But still lovable.
For printing or -- more likely -- producing PDFs, Orgmode naturally
comes with a working LaTeX exporter. The default output from it is,
well, if you've seen default Latex output, not very pretty. Not only does it use
traditional Latin Modern fonts, but things like hyperlinks are rendered in
hideous red boxes.&lt;/p&gt;
&lt;p&gt;Of course, this being Emacs and Org, this can be fixed. Here's my current
setup.&lt;/p&gt;
&lt;p&gt;First of all, let's use XeLaTeX for fonts and Unicode support. LatexMk will know
how many times the source needs to processed.&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_ba4d495153e44b1bad8c1c06195598e2-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;texcmd&lt;/span&gt; &lt;span class="s"&gt;"latexmk -xelatex"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ba4d495153e44b1bad8c1c06195598e2-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-pdf-process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt; &lt;span class="nv"&gt;texcmd&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Since I don't write formal articles, I don't usually need a table of contents or section
numbers. If I do, I can set them up in the Org file header.&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_fdf04ed52d494b94b1193c9c877f2420-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-export-with-toc&lt;/span&gt; &lt;span class="ss"&gt;'nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_fdf04ed52d494b94b1193c9c877f2420-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-export-with-section-numbers&lt;/span&gt; &lt;span class="ss"&gt;'nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Import fontspec for easy loading of fonts, and microtype because why not.
ox-latex needs to be loaded so the alist variables are available.&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_b8330bfec6f94f209de9affb8c0e40c3-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt; &lt;span class="ss"&gt;'ox-latex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_b8330bfec6f94f209de9affb8c0e40c3-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;;; these packages will be used by all org latex exports&lt;/span&gt;
&lt;a name="rest_code_b8330bfec6f94f209de9affb8c0e40c3-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-latex-packages-alist&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;""&lt;/span&gt; &lt;span class="s"&gt;"fontspec"&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_b8330bfec6f94f209de9affb8c0e40c3-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-latex-packages-alist&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;""&lt;/span&gt; &lt;span class="s"&gt;"microtype"&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Now, define an export class that uses nice fonts and non-eye-bleeding
hyperlinks.&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-latex-packages-alist&lt;/span&gt; &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"usenames,dvipsnames"&lt;/span&gt; &lt;span class="s"&gt;"color"&lt;/span&gt; &lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt; &lt;span class="ss"&gt;'org-latex-classes&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-3"&gt;&lt;/a&gt;        &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"sjj-org-article"&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-4"&gt;&lt;/a&gt;        &lt;span class="s"&gt;"\\documentclass[10pt,letterpaper]{scrartcl}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-5"&gt;&lt;/a&gt;&lt;span class="s"&gt;[DEFAULT-PACKAGES]&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-6"&gt;&lt;/a&gt;&lt;span class="s"&gt;[PACKAGES]&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-7"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\setromanfont{TeX Gyre Pagella}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-8"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\setsansfont{Linux Biolinum O}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-9"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\setmonofont[Scale=0.9]{DejaVu Sans Mono}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-10"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\pagestyle{empty}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-11"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\hypersetup{&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-12"&gt;&lt;/a&gt;&lt;span class="s"&gt;colorlinks = true, % colored links, no hideous boxes&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-13"&gt;&lt;/a&gt;&lt;span class="s"&gt;urlcolor   = MidnightBlue, % external hyperlinks&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-14"&gt;&lt;/a&gt;&lt;span class="s"&gt;linkcolor  = PineGreen, % internal links&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-15"&gt;&lt;/a&gt;&lt;span class="s"&gt;citecolor  = PineGreen  % citations&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-16"&gt;&lt;/a&gt;&lt;span class="s"&gt;}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-17"&gt;&lt;/a&gt;&lt;span class="s"&gt;\\title{}&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-18"&gt;&lt;/a&gt;&lt;span class="s"&gt;[EXTRA]"&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-19"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\\section{%s}"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"\\section*{%s}"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-20"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\\subsection{%s}"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"\\subsection*{%s}"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-21"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\\subsubsection{%s}"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"\\subsubsection*{%s}"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-22"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\\paragraph{%s}"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"\\paragraph*{%s}"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_218712b50c08409b94de5bf0aae27245-23"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\\subparagraph{%s}"&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s"&gt;"\\subparagraph*{%s}"&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Make this the default Latex export.&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_b4406496c550421d8805a15f46d783a4-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt; &lt;span class="nv"&gt;org-latex-default-class&lt;/span&gt; &lt;span class="s"&gt;"sjj-org-article"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Here is a &lt;a class="reference external" href="http://samjuvonen.com/butterchicken.pdf"&gt;sample output file&lt;/a&gt;  (PDF) from this setup. Not
too shabby.&lt;/p&gt;
&lt;p&gt;You can check out my whole Emacs configuration at &lt;a class="reference external" href="https://github.com/samjuvonen/dot-emacs/"&gt;github&lt;/a&gt;. Comments welcome!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Credits:&lt;/em&gt; &lt;a class="reference external" href="http://emacs-fu.blogspot.com/2011/04/nice-looking-pdfs-with-org-mode-and.html"&gt;This emacs-fu post&lt;/a&gt;
was for an earlier version of Org.&lt;/p&gt;&lt;/div&gt;</description><category>emacs</category><category>latex</category><category>orgmode</category><guid>http://samjuvonen.com/posts/printing-pretty-from-emacs/</guid><pubDate>Thu, 18 Aug 2016 20:29:22 GMT</pubDate></item></channel></rss>